<div class="task-card-modern" 
     data-subject="{{ task.course or '' }}" 
     data-priority="{{ task.priority }}" 
     data-status="{{ task.status }}">
    <!-- Checkbox -->
    <input type="checkbox" 
           class="task-checkbox-modern" 
           data-task-id="{{ task.id }}" 
           {% if task.status == 'completed' %}checked{% endif %}>

    <!-- Task Content -->
    <div class="task-content-modern">
        <h3 class="task-title-modern {% if task.status == 'completed' %}completed{% endif %}">
            {{ task.title }}
        </h3>
        <div class="task-details-modern">
            {% if task.course %}
            <span class="task-subject-modern">
                {% set subject_lower = task.course|lower|replace(' ', '-')|replace('mathematics', 'math')|replace('biology', 'bio')|replace('english', 'eng') %}
                <span class="subject-dot subject-{{ subject_lower }}"></span>
                {{ task.course }}
            </span>
            {% endif %}
            {% if task.due_date %}
            <span class="task-due-date-modern {% if task.due_date == 'Today' or 'today' in task.due_date|lower %}due-today{% elif task.due_date == 'Tomorrow' or 'tomorrow' in task.due_date|lower %}due-tomorrow{% endif %}">
                <i class="far fa-calendar"></i>
                <span class="due-date-text">{{ task.due_date }}</span>
            </span>
            {% endif %}
            {% if task.estimated_time %}
            <span class="task-time-modern">{{ task.estimated_time }} min</span>
            {% endif %}
        </div>
    </div>

    <!-- Task Actions -->
    <div class="task-actions-modern">
        {% if task.priority %}
        <span class="priority-tag-modern priority-{{ task.priority }}">
            {{ task.priority|title }}
        </span>
        {% endif %}
        <button class="delete-btn-modern" data-task-id="{{ task.id }}" title="Delete task">
            <i class="fas fa-trash"></i>
        </button>
    </div>
</div>

